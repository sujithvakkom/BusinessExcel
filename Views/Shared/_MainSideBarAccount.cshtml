@model UserProfile 

@using BootstrapHtmlHelper
@using BusinessExcel.Models
@using BusinessExcel.Providers.ProviderContext.Entities
@{ 
    ViewContext viewContext = Html.ViewContext;
    RouteValueDictionary routeValues = viewContext.RouteData.Values;
    string currentAction = routeValues["action"].ToString();
    string currentController = routeValues["controller"].ToString();
}
<!-- Inner sidebar -->
<div class="main-sidebar">
    <!-- user panel (Optional) -->
    <div class="user-panel">
        <div class="pull-left image">
            <img src="../../Images/avatar-160X160.png" class="img-circle user-image" />
        </div>
        <div class="pull-left info">
            <p name="user-full-name-display">@Model.UserFullName</p>

            @*<a href="#"><i class="fa fa-circle text-success"></i> Online</a>*@
        </div>
    </div><!-- /.user-panel -->

    <section class="sidebar">
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu">
            <li class="header">USER CONTROLS</li>
            
                        @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.AccountsController.WELCOME_TITLE,
                   actionName: BusinessExcel.Controllers.AccountsController.WELCOME,
                   controllerName: BusinessExcel.Controllers.AccountsController.ACCOUNTS,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-home")
                                    @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.AccountsController.MYPROFILE_TITLE,
                   actionName: BusinessExcel.Controllers.AccountsController.MYPROFILE,
                   controllerName: BusinessExcel.Controllers.AccountsController.ACCOUNTS,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-user")
            @if (User.IsInRole(BERoleDetails.SYSTEM_ADMINISTRATOR))
            {
                <li>
                    <ul class="sidebar-menu" data-widget="tree">
                        <li class="header">ADMIN CONTROLS</li>
                        <!-- Optionally, you can add icons to the links -->
                        <li class="treeview @Html.IsSelected(controllers:BusinessExcel.Controllers.AdminController.ADMIN,actions:currentAction,cssClass:"active")">
                            <a href="#"><i class="fa fa-user-secret"></i><span>Security</span> <i class="fa fa-angle-left pull-right"></i></a>
                            <ul class="treeview-menu">
                                                                @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.AdminController.USERMANAGEMENT_TITLE,
                   actionName: BusinessExcel.Controllers.AdminController.USERMANAGEMENT,
                   controllerName: BusinessExcel.Controllers.AdminController.ADMIN,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-user-md")
                                                                @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.AdminController.VIEWMANAGER_TITLE,
                   actionName: BusinessExcel.Controllers.AdminController.VIEWMANAGEMENT,
                   controllerName: BusinessExcel.Controllers.AdminController.ADMIN,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-puzzle-piece")
                            </ul>

                            @*Rosters*@
                            <a href="#"><i class="fa fa-user-secret"></i><span>Rosters</span> <i class="fa fa-angle-left pull-right"></i></a>
                            <ul class="treeview-menu">

                                @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.AdminController.ROSTER_TITLE,
                   actionName: BusinessExcel.Controllers.AdminController.ROSTER,
                   controllerName: BusinessExcel.Controllers.AdminController.ADMIN,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnComplete = "ajax_call_load_complete('#page-load')",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-user-md")
                   
                            </ul>


                        </li>
                    </ul>
                </li>
            }

            <li>
                <ul class="sidebar-menu" data-widget="tree">
                    <li class="header">REPORTS</li>
                    <!-- Optionally, you can add icons to the links -->
                    <li class="treeview @Html.IsSelected(controllers:BusinessExcel.Controllers.ReportController.REPORTCONTROLLER,actions:currentAction,cssClass:"active")">
                        <a href="#"><i class="fa fa-rss"></i><span>Action Reports</span> <i class="fa fa-angle-left pull-right"></i></a>
                        <ul class="treeview-menu">
                                                        @Ajax.AjaxAdminLTEActionLink(
                   linkText: BusinessExcel.Controllers.ReportController.ACTIONS_TITLE,
                   actionName: BusinessExcel.Controllers.ReportController.ACTIONS,
                   controllerName: BusinessExcel.Controllers.ReportController.REPORTCONTROLLER,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-tasks")
                                                        @Ajax.AjaxAdminLTEActionLink(
                   linkText: "Loading Error.",
                   actionName: "Test",
                   controllerName: BusinessExcel.Controllers.ReportController.REPORTCONTROLLER,
                   ajaxOptions: new AjaxOptions()
                   {
                       InsertionMode = InsertionMode.Replace,
                       UpdateTargetId = "main-body",
                       OnBegin = "move('#page-load')",
                       OnSuccess = "ajax_call_load_success()",
                       OnComplete = "ajax_call_load_complete()",
                       OnFailure = "loadin_failed"
                   },
                   carrot: "fa fa-tasks")
                        </ul>
                    </li>
                </ul>
            </li>

        </ul>
    </section>

</div>